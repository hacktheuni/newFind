<!DOCTYPE html>

<html>

<head>
  <meta charset="utf-8" />
  <meta name="viewport"
    content="width=device-width, initial-scale=1.0, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0" />

  <title>{% block title %} {% endblock title %}</title>
  {% load static %}

  <!-- Icons. Uncomment required icon fonts -->
  <link href='https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css' rel='stylesheet'>

  <!-- Core CSS -->
  <link rel="stylesheet" href="{% static 'assets/css/core.css' %}" class="template-customizer-core-css" />
  <link rel="stylesheet" href="{% static 'assets/css/theme-default.css' %}" class="template-customizer-theme-css" />
  <link rel="stylesheet" href="{% static 'assets/css/demo.css' %}" />

  <!-- Helpers -->
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  <script src="{% static 'assets/js/helpers.js' %}"></script>
  <script src="{% static 'assets/js/config.js' %}"></script>
  <script src="{% static 'assets/js/other.js' %}"></script>
  <script src="{% static 'assets/js/validate.js' %}"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</head>

<body>
  <!-- Layout wrapper -->
  <div class="layout-wrapper layout-content-navbar">
    <div class="layout-container">

      <!-- Menu -->
      <aside id="layout-menu" class="layout-menu menu-vertical menu bg-menu-theme">
        <div style="position: sticky; top: 0px;">
          <div class="app-brand demo">
            <span class="app-brand-logo demo mx-auto">
              {% load static %}
              {% if user.subAdminID.subAdminLogo %}
              <img src="/media/{{ user.subAdminID.subAdminLogo }}" alt="{{ user.subAdminID.subAdminLogo }} Logo"
                class="d-block rounded" height="100" width="100" />
              {% else %}
              <img src="{% static 'assets/img/defaultLogo.png' %}" alt="Default Logo" class="d-block rounded"
                height="100" width="100" />
              {% endif %}
            </span>
            <a href="javascript:void(0);" class="layout-menu-toggle menu-link text-large ms-auto d-block d-xl-none">
              <i class="bx bx-chevron-left bx-sm align-middle"></i>
            </a>
          </div>

          <div class="menu-inner-shadow"></div>

          <ul class="menu-inner py-1">
            <li class="menu-item">
              <div class="menu-link">
                <div class="text-dark">Hello, {{request.session.subAdminName}}</div>
              </div>
            </li>
            <li class="menu-item {% block masterActive %} {% endblock masterActive %}">
              <a href="" class="menu-link menu-toggle">
                <i class="menu-icon tf-icons bx bxs-layout"></i>
                <div>Master</div>
              </a>
              <ul class="menu-sub">
                <li class="menu-item {% block groupActive %} {% endblock groupActive %}">
                  <a href="{% url 'listGroup' %}" class="menu-link">
                    <div>Group</div>
                  </a>
                </li>
                <li class="menu-item {% block companyActive %} {% endblock companyActive %}">
                  <a href="{% url 'listCompany' %}" class="menu-link">
                    <div>Company</div>
                  </a>
                </li>
                <li class="menu-item {% block workActive %} {% endblock workActive %}">
                  <a href="{% url 'listWork' %}" class="menu-link">
                    <div>Work</div>
                  </a>
                </li>
                <li class="menu-item {% block clientActive %} {% endblock clientActive %}">
                  <a href="{% url 'listClient' %}" class="menu-link">
                    <div>Phone Book</div>
                  </a>
                </li>
              </ul>
            </li>
            <li class="menu-item {% block dscActive %} {% endblock dscActive %}">
              <a href="{% url 'listDSC' %}" class="menu-link">
                <i class="menu-icon tf-icons bx bxs-home-circle"></i>
                <div>DSCs</div>
              </a>
            </li>
            <li class="menu-item {% block pendingWorkActive %} {% endblock pendingWorkActive %}">
              <a href="{% url 'listPendingWork' %}" class="menu-link">
                <i class="menu-icon tf-icons bx bxs-briefcase-alt-2"></i>
                <div>Pending Work</div>
              </a>
            </li>
            <li class="menu-item {% block annualActive %} {% endblock annualActive %}">
              <a href="{% url 'listAnnual' %}" class="menu-link">
                <i class="menu-icon tf-icons bx bxs-spreadsheet"></i>
                <div>Annual Filing</div>
              </a>
            </li>
            <li class="menu-item {% block reportActive %} {% endblock reportActive %}">
              <a href="{% url 'listReport' %}" class="menu-link">
                <i class='menu-icon tf-icons bx bxs-report'></i>
                <div>Report</div>
              </a>
            </li>
            <li class="menu-item {% block myProfileActive %} {% endblock myProfileActive %}">
              <a href="" class="menu-link menu-toggle">
                <i class="menu-icon tf-icons bx bxs-user-account"></i>
                <div>My Profile</div>
              </a>
              <ul class="menu-sub">
                <li class="menu-item {% block adminActive %} {% endblock adminActive %}">
                  <a href="{% url 'updateProfile' %}" class="menu-link">
                    <div>Admin Details</div>
                  </a>
                </li>
                <li class="menu-item {% block userActive %} {% endblock userActive %}">
                  <a href="{% url 'listUser' %}" class="menu-link">
                    <div>Manage Users</div>
                  </a>
                </li>
              </ul>
            </li>
            <li class="menu-item {% block contactActive %} {% endblock contactActive %}">
              <a href="" class="menu-link menu-toggle">
                <i class='menu-icon tf-icons bx bxs-conversation'></i>
                <div>Contact us</div>
              </a>
              <ul class="menu-sub">
                <li class="menu-item {% block feedBackActive %} {% endblock feedBackActive %}">
                  <a href="{% url 'feedBack' %}" class="menu-link">
                    <div>Feedback</div>
                  </a>
                </li>
              </ul>
            </li>
          </ul>
          <ul style="position: fixed; bottom: 0px;">
            <li class="menu-item">
              <a href="{% url 'logOut' %}" class="menu-link">
                <div data-i18n="Container"><button type="button" class="btn btn-outline-primary">Log Out</button></div>
              </a>
            </li>
          </ul>
        </div>
      </aside>
      <!-- / Menu -->

      <!-- Layout container -->
      <div class="layout-page">
        <!-- Content wrapper -->
        <div class="content-wrapper">
          <!-- Content -->
          <div class="container-fluid flex-grow-1 container-p-y">

            {% block container %} {% endblock container %}

          </div>
          <!-- / Content -->

          <div class="content-backdrop fade"></div>
        </div>
        <!-- Content wrapper -->
      </div>
      <!-- / Layout page -->
    </div>

    <!-- Overlay -->
    <div class="layout-overlay layout-menu-toggle"></div>
  </div>
  <!-- / Layout wrapper -->
  <div class="toast-container position-fixed bottom-0 end-0 p-3">
    {% for message in messages %}
    <div id="liveToast" class="toast show bg-{{message.tags}}" role="alert" aria-live="assertive" aria-atomic="true">
      <div class="toast-header">
        <strong class="me-auto">{{ message }}</strong>
        <button type="button" class="btn-close" data-bs-dismiss="toast" aria-label="Close"></button>
      </div>
    </div>
    {% endfor %}
  </div>

  <script>
    document.addEventListener('DOMContentLoaded', function () {
      var toastElList = [].slice.call(document.querySelectorAll('.toast'))
      var toastList = toastElList.map(function (toastEl) {
        return new bootstrap.Toast(toastEl, { delay: 5000 });
      });
      toastList.forEach(toast => toast.show());
    });
  </script>
  <script>
    document.getElementById('selectAll').onclick = function () {
      let checkboxes = document.querySelectorAll('.selectItem');
      let selectAllChecked = this.checked;

      checkboxes.forEach(checkbox => {
        if (checkbox.closest('tr').style.display !== 'none') {
          checkbox.checked = selectAllChecked;
        }
      });
    };
  </script>

  <script src="{% static 'assets/js/menu.js' %}"></script>
  <script src="{% static 'assets/js/main.js' %}"></script>

</body>

</html>